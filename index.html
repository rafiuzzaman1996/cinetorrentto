<!DOCTYPE html>
<html lang="en" class="dark"> <!-- Default to dark theme -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineTorrentto</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Roboto+Slab:wght@400;700&family=Roboto:wght@400;500;700&family=Audiowide&display=swap" rel="stylesheet">
    <link href="https://fonts.maateen.me/durbin/font.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex flex-col min-h-screen">
    <div id="ad-popunder"></div>
    <!-- Login Section -->
    <main id="login-section" class="flex-grow flex flex-col relative">
         <!-- Social Icons -->
        <div class="absolute top-4 right-4 flex items-center gap-4 z-10">
            <div id="social-icons-container" class="flex items-center gap-3">
                 <!-- Icons will be injected by JS -->
            </div>
        </div>

        <section class="flex-grow flex items-center justify-center hero-bg w-full">
            <div class="w-11/12 max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-10 py-20">

                <div class="md:w-1/2 text-center md:text-left">
                     <h1 id="login-title" class="site-title text-5xl" style="color: #e8a265;">CineTorrentto</h1>
                    <p class="w-full text-base my-6 text-gray-300">Your ultimate gateway to the world of cinema. Discover, track, and explore thousands of movies, from timeless classics to the latest blockbusters.</p>
                    
                    <!-- Counters -->
                    <div class="my-6 flex flex-col md:flex-row items-center justify-center md:justify-start gap-x-6 gap-y-3 text-orange-300">
                        <div class="flex items-center gap-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.002 3.002 0 014.288 0M12 14a4 4 0 100-8 4 4 0 000 8z" />
                            </svg>
                            <p>
                                <span id="visitor-count" class="font-bold text-base">0</span> Visitors This Month
                            </p>
                        </div>
                        <div id="total-users-login-container" class="flex items-center gap-3">
                             <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 006-6v-1a6 6 0 00-6-6h-1m-4 16a6 6 0 01-2-11.657" /></svg>
                             <p>
                                <span id="total-users-count-login" class="font-bold text-base">0</span> Total Users
                            </p>
                        </div>
                    </div>

                    <!-- Login/Signup Container -->
                    <div class="w-full max-w-sm mx-auto md:mx-0 bg-neutral-900/50 backdrop-blur-sm p-8 rounded-lg">
                        
                        <!-- Login Form -->
                        <div id="login-form-container">
                            <h2 class="text-xl font-bold text-center mb-6 text-orange-300">Login</h2>
                            <fieldset class="fieldset w-full pb-4">
                                <input id="name" type="text" class="input bg-neutral-800 border-neutral-700 w-full mb-3 p-3 rounded-md focus:ring-red-500 focus:border-red-500" placeholder="Username" />
                                <input id="pass" type="password" class="input bg-neutral-800 border-neutral-700 w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" placeholder="Password" />
                                <p id="login-error" class="text-red-400 text-sm mt-2 hidden">Invalid username or password.</p>
                            </fieldset>
                            <button id="login-btn" class="w-full bg-red-600 text-white rounded-md px-4 py-3 font-semibold hover:bg-red-700 transition-colors duration-300">Login</button>
                             <div class="text-right mt-2">
                                <a href="#" id="forgot-password-link" class="text-sm text-red-400 hover:underline">Forgot Password?</a>
                            </div>
                            <p class="text-center mt-4 text-sm text-gray-400">
                                Don't have an account? <a href="#" id="show-signup" class="text-red-400 hover:underline">Sign Up</a>
                            </p>
                        </div>

                        <!-- Signup Form -->
                        <div id="signup-form" class="hidden">
                            <h2 class="text-xl font-bold text-center mb-6 text-orange-300">Create Account</h2>
                            <fieldset class="fieldset w-full pb-4 space-y-3">
                                <input id="new-fullname" type="text" class="input bg-neutral-800 border-neutral-700 w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" placeholder="Full Name" />
                                <input id="new-name" type="text" class="input bg-neutral-800 border-neutral-700 w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" placeholder="Choose Username" />
                                <input id="new-pass" type="password" class="input bg-neutral-800 border-neutral-700 w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" placeholder="Create Password" />
                                <input id="confirm-pass" type="password" class="input bg-neutral-800 border-neutral-700 w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" placeholder="Confirm Password" />
                            </fieldset>
                            <button id="signup-btn" class="w-full bg-red-600 text-white rounded-md px-4 py-3 font-semibold hover:bg-red-700 transition-colors duration-300">Create Account</button>
                            <div class="mt-2 text-left">
                                <p id="signup-username-error" class="text-red-400 text-xs mt-1 hidden"></p>
                                <p id="signup-password-error" class="text-red-400 text-xs mt-1 hidden"></p>
                                <p id="signup-error" class="text-red-400 text-sm mt-2 hidden"></p>
                            </div>
                            <p class="text-center mt-4 text-sm text-gray-400">
                                Already have an account? <a href="#" id="show-login" class="text-red-400 hover:underline">Login</a>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="md:w-1/2 flex justify-center opacity-50">
                     <svg xmlns="http://www.w3.org/2000/svg" width="250" height="250" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="text-orange-300/50">
                        <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>
                    </svg>
                </div>
            </div>
        </section>
        
        <!-- Download Info Section -->
        <section class="py-12 download-section text-center">
            <div class="container mx-auto px-4">
                <p class="text-base">Please let us know in the comments if you have any problems downloading. We will resolve the issue quickly.</p>
                <p class="text-base text-gray-400 mb-6 bengali">(ডাউনলোড করতে সমস্যা হলে অবশ্যই কমেন্টে করে জানাবেন। আমরা সমস্যার দ্রুত সমাধান করব।)</p>
                
                <p class="text-base">To download, you must have one of the following 4 apps installed. If not, please install it using the links below.</p>
                <p class="text-base text-gray-400 mb-10 bengali">(ডাউনলোড করার জন্য নিচের ৪টি অ্যাপ এর মধ্যে যেকোনো একটি ইন্সটল থাকতে হবে। না থাকলে অনুগ্রহ করে নিচের লিঙ্কগুলো থেকে ইন্সটল করে নিন।)</p>

                <div class="grid md:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-xl font-bold mb-4">Android User</h3>
                        <div class="flex justify-center gap-4 flex-wrap">
                            <a href="https://play.google.com/store/apps/details?id=org.freedownloadmanager.fdm&hl=en&referrer=utm_source%3Dgoogle%26utm_medium%3Dorganic%26utm_term%3Dfdm&pcampaignid=APPU_1_XB7LZ_HnK63H4-EP8PnbgQw" target="_blank" class="bg-black text-white px-8 py-3 rounded-full font-semibold hover:bg-neutral-700 transition-colors">FDM</a>
                            <a href="https://play.google.com/store/apps/details?id=com.dv.adm&hl=en&referrer=utm_source%3Dgoogle%26utm_medium%3Dorganic%26utm_term%3Dadm&pcampaignid=APPU_1_IJLMZ9iVB-nG4-EPlr-RuQM" target="_blank" class="bg-black text-white px-8 py-3 rounded-full font-semibold hover:bg-neutral-700 transition-colors">ADM</a>
                            <a href="https://play.google.com/store/apps/details?id=com.utorrent.client&hl=en&referrer=utm_source%3Dgoogle%26utm_medium%3Dorganic%26utm_term%3Dutorrent&pcampaignid=APPU_1_B5LMZ-W0IM6XjuMP1I3T0Q4" target="_blank" class="bg-black text-white px-8 py-3 rounded-full font-semibold hover:bg-neutral-700 transition-colors">µTorrent</a>
                            <a href="https://play.google.com/store/apps/details?id=com.bittorrent.client&hl=en&referrer=utm_source%3Dgoogle%26utm_medium%3Dorganic%26utm_term%3Dbittorrent&pcampaignid=APPU_1_2pHMZ7LTG9Oq4-EP3qnzsQQ" target="_blank" class="bg-black text-white px-8 py-3 rounded-full font-semibold hover:bg-neutral-700 transition-colors">BitTorrent</a>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-4">PC User</h3>
                        <div class="flex justify-center gap-4 flex-wrap">
                            <a href="https://files2.freedownloadmanager.org/6/latest/fdm_x64_setup.exe" target="_blank" class="bg-black text-white px-8 py-3 rounded-full font-semibold hover:bg-neutral-700 transition-colors">FDM</a>
                            <a href="https://www.utorrent.com/web/downloads/complete/track/stable/os/win/" target="_blank" class="bg-black text-white px-8 py-3 rounded-full font-semibold hover:bg-neutral-700 transition-colors">µTorrent</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Main App Section (Initially Hidden) -->
    <div id="main-app" class="hidden w-full h-full">
        <!-- Header -->
        <header class="main-header backdrop-blur-sm sticky top-0 z-40 shadow-lg shadow-black/20">
            <div class="w-full mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-20">
                    <div class="flex items-center gap-2">
                        <button id="filter-toggle-btn" class="p-2 rounded-md focus:outline-none">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L16 11.414V16a1 1 0 01-.293.707l-2 2A1 1 0 0113 18v-6.586l-3.707-3.707A1 1 0 019 7V4a1 1 0 01-1-1H4a1 1 0 01-1-1z" />
                            </svg>
                        </button>
                        <span id="header-title" class="site-title text-3xl" style="color: #e8a265;">CineTorrentto</span>
                        <nav id="main-nav" class="hidden lg:flex items-center gap-2">
                            <!-- Navigation links will be populated by JS -->
                        </nav>
                    </div>
                    
                    <div class="hidden md:flex flex-1 justify-center px-4">
                        <div class="w-full max-w-md">
                            <div class="relative">
                                <input id="search-bar" type="text" placeholder="Search movies or years..." class="form-input w-full rounded-full py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center gap-4">
                        <div id="active-user-container" class="hidden lg:flex items-center gap-2">
                           <div class="flex items-center gap-1 text-sm text-gray-400">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                                <span id="current-users-count">0</span>
                                <span>Active</span>
                            </div>
                            <span id="active-user" class="text-sm font-semibold"></span>
                        </div>
                        <div class="hidden lg:flex items-center gap-2">
                             <button id="theme-toggle-btn" class="p-2 rounded-full text-gray-400 hover:bg-neutral-700">
                                <svg id="theme-icon-light" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                                <svg id="theme-icon-dark" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                             </button>
                             <button id="admin-panel-btn" class="relative px-4 py-2 text-white bg-indigo-600 rounded-full hover:bg-indigo-700 transition-colors font-semibold hidden">
                                Admin Panel
                                <span id="admin-panel-notification-badge" class="absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-xs flex items-center justify-center hidden"></span>
                             </button>
                             <button id="request-movie-btn" class="px-4 py-2 text-white bg-sky-600 rounded-full hover:bg-sky-700 transition-colors font-semibold hidden">Request a Movie</button>
                             <button id="log-out" class="px-4 py-2 border rounded-full transition-colors">Logout</button>
                        </div>
                        <div class="lg:hidden">
                            <button id="mobile-menu-btn" class="p-2 rounded-md focus:outline-none">
                                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Featured Section -->
        <section id="featured-section" class="relative w-full mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div id="featured-slider" class="flex overflow-x-auto snap-x snap-mandatory scroll-smooth -mx-2">
                <!-- Featured movies will be injected here -->
            </div>
            <button id="featured-prev" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
            </button>
            <button id="featured-next" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
            </button>
        </section>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden fixed inset-0 bg-gray-900 bg-opacity-95 z-50 p-6 overflow-y-auto">
            <div class="flex justify-between items-center mb-8">
                <span class="site-title text-3xl" style="color: #e8a265;">CineTorrentto</span>
                <button id="mobile-menu-close-btn" class="p-2 text-3xl">&times;</button>
            </div>
            <div id="mobile-nav-content" class="flex flex-col gap-2"></div>
        </div>
        
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden"></div>
        
        <div class="w-full flex flex-grow">
             <!-- Left Sidebar for Filters -->
            <aside id="left-sidebar" class="sidebar w-64 flex-shrink-0 p-4 space-y-4 hidden">
                <button id="clear-filters-btn" class="w-full px-4 py-2 text-white bg-red-600 rounded-full hover:bg-red-700 transition-colors font-semibold">Clear Filters</button>
                <details>
                    <summary class="text-sm font-bold p-2 rounded-md">Browse by Genre</summary>
                    <div id="genre-container" class="flex flex-col gap-1 mt-2 pl-2">
                        <!-- Genre buttons will be injected here -->
                    </div>
                </details>
                <details>
                    <summary class="text-sm font-bold p-2 rounded-md">Browse by Year</summary>
                    <div id="year-container" class="flex flex-col gap-1 mt-2 pl-2">
                        <!-- Year buttons will be injected here -->
                    </div>
                </details>
                <details>
                    <summary class="text-sm font-bold p-2 rounded-md">Browse Alphabetically</summary>
                    <div id="alphabet-container" class="grid grid-cols-4 gap-2 mt-2 pl-2">
                        <!-- Alphabet buttons will be injected here -->
                    </div>
                </details>
                <details open>
                    <summary class="text-sm font-bold p-2 rounded-md">Browse by Rating</summary>
                    <div id="rating-container" class="flex flex-col gap-1 mt-2 pl-2">
                        <!-- Rating buttons will be injected here -->
                    </div>
                </details>
                <div id="ad-left-1" class="ad-placeholder mt-4" style="width: 160px; height: 300px;">Adsterra 160x300</div>
                <div id="ad-left-img-1" class="ad-placeholder mt-4" style="width: 180px; height: 320px;">Image Ad 180x320</div>
                <div id="ad-left-img-2" class="ad-placeholder mt-4" style="width: 180px; height: 320px;">Image Ad 180x320</div>
                <div id="ad-left-img-3" class="ad-placeholder mt-4" style="width: 180px; height: 320px;">Image Ad 180x320</div>
                <div id="ad-left-img-4" class="ad-placeholder mt-4" style="width: 180px; height: 320px;">Image Ad 180x320</div>
            </aside>

            <!-- Main Content -->
            <div class="flex-grow min-w-0">
                <main id="main-content-area" class="p-4 sm:p-6 lg:p-8">
                     <div id="category-view" class="space-y-8">
                        <!-- Category sections will be injected here -->
                    </div>
                    <div id="filtered-view" class="hidden">
                        <div id="movies-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-6">
                            <!-- Movie cards will be injected here -->
                        </div>
                        <div id="no-results" class="hidden flex-col items-center justify-center col-span-full h-60">
                            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-4"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="13" y1="8" x2="9" y2="12"></line><line x1="9" y1="8" x2="13" y2="12"></line></svg>
                            <h2 class="text-xl font-semibold">No content found.</h2>
                            <p>Try a different search term or category.</p>
                        </div>
                    </div>
                </main>
                <footer class="p-6 text-center">
                    <div id="ad-footer-728x90" class="ad-placeholder mx-auto mb-4" style="width: 728px; height: 90px; max-width: 100%;">Adsterra 728x90</div>
                    <h2 class="site-title text-4xl mb-4" style="color: var(--brand-orange);">CineTorrentto</h2>
                    <p class="text-xs text-gray-500">Copyright &copy; 2024 CineTorrentto. All Rights Reserved.</p>
                    <p class="text-xs text-gray-500 mt-2">Disclaimer: This site does not store any files on its server. All contents are provided by non-affiliated third parties.</p>
                </footer>
            </div>


            <!-- Right Sidebar for Ads & Socials -->
            <aside id="right-sidebar" class="w-48 flex-shrink-0 p-4 space-y-4 hidden xl:block">
                 <div id="right-sidebar-player" class="mb-4"></div>
                 <div id="ad-right-1" class="ad-placeholder mx-auto mb-4" style="width: 320px; height: 250px; max-width: 100%;">Adsterra 320x250</div>
                 <div id="ad-right-2" class="ad-placeholder mx-auto mb-4" style="width: 160px; height: 600px; max-width: 100%;">Adsterra 160x600</div>
                 <div id="ad-right-native" class="ad-placeholder mx-auto mb-4" style="width: 100%; height: auto; min-height: 100px;">Adsterra Native</div>
                 <div id="ad-right-img-1" class="ad-placeholder mx-auto mb-4" style="width: 180px; height: 320px; max-width: 100%;">Image Ad 180x320</div>
                 <div id="ad-right-img-2" class="ad-placeholder mx-auto mb-4" style="width: 180px; height: 320px; max-width: 100%;">Image Ad 180x320</div>
                 <div id="ad-right-img-3" class="ad-placeholder mx-auto mb-4" style="width: 180px; height: 320px; max-width: 100%;">Image Ad 180x320</div>
                 <div id="ad-right-468x60" class="ad-placeholder mx-auto mb-4" style="width: 468px; height: 60px; max-width: 100%;">Adsterra 468x60</div>
                 <div id="ad-right-320x50" class="ad-placeholder mx-auto mb-4" style="width: 320px; height: 50px; max-width: 100%;">Adsterra 320x50</div>
            </aside>
        </div>

        <button id="back-to-top" class="hidden fixed bottom-5 right-5 bg-red-600 text-white p-3 rounded-full shadow-lg z-50">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" /></svg>
        </button>
        
        <div id="floating-social-bar" class="fixed top-1/2 right-0 transform -translate-y-1/2 z-50 flex flex-col gap-2 p-2 bg-black bg-opacity-50 rounded-l-lg">
             <!-- Floating social icons will be injected here -->
        </div>
    </div>

    <!-- Movie Details Modal -->
    <div id="movie-details-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div id="modal-content-wrapper" class="modal-content rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto transform scale-95 transition-transform duration-300">
            <!-- Modal content will be injected here -->
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div id="admin-panel-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-md transform scale-95 transition-transform duration-300">
            <div class="p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Admin Panel</h2>
                    <button type="button" id="admin-panel-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <button id="modal-add-movie-btn" class="w-full p-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold">Add Content</button>
                    <button id="modal-edit-featured-btn" class="w-full p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-semibold">Edit Featured</button>
                    <button id="modal-edit-socials-btn" class="w-full p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold">Edit Socials</button>
                    <button id="modal-edit-ads-btn" class="w-full p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold">Edit Ads</button>
                    <button id="modal-view-requests-btn" class="w-full p-4 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors font-semibold relative">
                        View Requests
                        <span id="modal-request-notification-badge" class="absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-xs flex items-center justify-center hidden"></span>
                    </button>
                    <button id="modal-manage-admins-btn" class="w-full p-4 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-semibold">Manage Admins</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Add Movie Form Modal -->
    <div id="add-movie-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-2xl transform scale-95 transition-transform duration-300">
            <form id="add-movie-form" class="p-8 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Add New Content</h2>
                    <button type="button" id="add-movie-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div class="space-y-4">
                    <input name="title" type="text" placeholder="Title" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                    <div class="grid grid-cols-3 gap-4">
                        <select name="release_day" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500"></select>
                        <select name="release_month" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500"></select>
                        <select name="release_year" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500"></select>
                    </div>
                    <input name="poster_path" type="text" placeholder="Poster Image URL" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500">
                    <input name="trailer_url" type="text" placeholder="Trailer URL (YouTube Embed Link)" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500">
                    <input name="stream_url" type="text" placeholder="Stream URL" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500">
                    <input name="vote_average" type="number" step="0.1" min="0" max="10" placeholder="Rating (0.0 - 10.0)" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                    <textarea name="overview" placeholder="Overview / Description" rows="3" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required></textarea>
                    
                    <input name="director" type="text" placeholder="Director(s)" class="form-input w-full p-3 rounded-md">
                    <input name="runningTime" type="text" placeholder="Running Time (e.g., 120 min)" class="form-input w-full p-3 rounded-md">
                    <input name="budget" type="text" placeholder="Budget (e.g., $100 million)" class="form-input w-full p-3 rounded-md">
                    <textarea name="cast" placeholder="Cast (comma separated)" rows="2" class="form-input w-full p-3 rounded-md"></textarea>

                    <div>
                        <label for="genre-select" class="block mb-2 text-sm font-medium text-left">Genre(s) (Hold Ctrl/Cmd to select multiple)</label>
                        <select name="genres" id="genre-select" multiple class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500 h-32">
                            <!-- Genre options will be populated by JS -->
                        </select>
                    </div>
                     <div>
                        <label for="category-select" class="block mb-2 text-sm font-medium text-left">Category</label>
                        <select name="category" id="category-select" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                            <!-- Category options will be populated by JS -->
                        </select>
                    </div>
                </div>
                
                <div class="border-t border-neutral-700 my-6"></div>

                <div>
                    <h3 class="text-lg font-semibold mb-3">Download Links</h3>
                    <div id="download-links-container" class="space-y-4">
                        <!-- Dynamic download link fields will be injected here -->
                    </div>
                    <button type="button" id="add-download-link-btn" class="mt-4 text-red-400 hover:text-red-300 font-semibold text-sm">+ Add Another Link</button>
                </div>

                <div class="mt-8 text-right">
                    <button type="submit" class="bg-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-700 transition-colors">Add Content</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Request Movie Form Modal -->
    <div id="request-movie-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-lg transform scale-95 transition-transform duration-300">
            <form id="request-movie-form" class="p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Request a Movie</h2>
                    <button type="button" id="request-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div class="space-y-4">
                    <input name="movieName" type="text" placeholder="Movie Name" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                    <input name="movieYear" type="number" placeholder="Year" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500">
                    <textarea name="movieDescription" placeholder="Description (optional)" rows="4" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500"></textarea>
                </div>
                <div class="mt-8 text-right">
                    <button type="submit" class="bg-sky-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-sky-700 transition-colors">Submit Request</button>
                </div>
            </form>
        </div>
    </div>

    <!-- View Requests Modal (Admin only) -->
    <div id="view-requests-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
         <div class="modal-content rounded-lg shadow-2xl w-full max-w-2xl transform scale-95 transition-transform duration-300">
             <div class="p-8 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">User Movie Requests</h2>
                    <button type="button" id="view-requests-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div id="requests-list" class="space-y-4">
                    <!-- Requests will be populated here -->
                </div>
                <div class="mt-8 text-right">
                    <button id="clear-requests-btn" class="bg-red-700 text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-800 transition-colors">Clear All Requests</button>
                </div>
             </div>
        </div>
    </div>

    <!-- Trailer Modal -->
    <div id="trailer-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-3xl transform scale-95 transition-transform duration-300">
            <div class="p-2 relative" style="padding-top: 56.25%;"> <!-- 16:9 Aspect Ratio -->
                <div id="trailer-content" class="absolute top-0 left-0 w-full h-full">
                    <!-- YouTube iframe will be injected here -->
                </div>
                 <button onclick="closeModal('trailer-modal')" class="absolute -top-2 -right-2 text-gray-400 hover:text-white transition-colors bg-black bg-opacity-50 rounded-full p-1">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Stream Modal -->
    <div id="stream-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-4xl transform scale-95 transition-transform duration-300">
            <div class="p-2 relative" style="padding-top: 56.25%;"> <!-- 16:9 Aspect Ratio -->
                <div id="stream-content" class="absolute top-0 left-0 w-full h-full">
                    <!-- Stream iframe will be injected here -->
                </div>
                 <button onclick="closeModal('stream-modal')" class="absolute -top-2 -right-2 text-gray-400 hover:text-white transition-colors bg-black bg-opacity-50 rounded-full p-1">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Socials Modal (Admin only) -->
    <div id="edit-socials-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-lg transform scale-95 transition-transform duration-300">
            <form id="edit-socials-form" class="p-8 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Edit Social Links</h2>
                    <button type="button" id="edit-socials-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div id="social-links-inputs-container" class="space-y-4">
                    <!-- Social link inputs will be populated by JS -->
                </div>
                <button type="button" id="add-social-link-btn" class="mt-4 text-red-400 hover:text-red-300 font-semibold text-sm">+ Add New Social Link</button>
                <div class="mt-8 text-right">
                    <button type="submit" class="bg-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-700 transition-colors">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Ads Modal (Admin only) -->
    <div id="edit-ads-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-4xl transform scale-95 transition-transform duration-300">
            <form id="edit-ads-form" class="p-8 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Edit Ad Codes</h2>
                    <button type="button" id="edit-ads-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Left Sidebar Ads -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-semibold border-b border-neutral-600 pb-2">Left Sidebar</h3>
                        <div>
                            <label class="block mb-2 text-sm font-medium text-left">Adsterra Ad (160x300)</label>
                            <textarea name="adLeft1" rows="3" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" placeholder="Paste Adsterra code here..."></textarea>
                        </div>
                        <div>
                            <label class="block mb-2 text-sm font-medium text-left">Image Ad URLs (180x320)</label>
                            <input name="adLeftImg1" type="text" placeholder="Image URL 1" class="form-input w-full p-3 rounded-md mb-2">
                            <input name="adLeftImg2" type="text" placeholder="Image URL 2" class="form-input w-full p-3 rounded-md mb-2">
                            <input name="adLeftImg3" type="text" placeholder="Image URL 3" class="form-input w-full p-3 rounded-md mb-2">
                            <input name="adLeftImg4" type="text" placeholder="Image URL 4" class="form-input w-full p-3 rounded-md">
                        </div>
                    </div>
                    <!-- Right Sidebar Ads -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-semibold border-b border-neutral-600 pb-2">Right Sidebar</h3>
                        <div>
                            <label class="block mb-2 text-sm font-medium text-left">Video Player URL (YouTube/GDrive)</label>
                            <input name="sidebarVideo" type="text" class="form-input w-full p-3 rounded-md">
                        </div>
                         <div>
                            <label class="block mb-2 text-sm font-medium text-left">Adsterra Ad (320x250)</label>
                            <textarea name="right1" rows="3" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra code here..."></textarea>
                        </div>
                        <div>
                            <label class="block mb-2 text-sm font-medium text-left">Adsterra Ad (160x600)</label>
                            <textarea name="right2" rows="3" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra code here..."></textarea>
                        </div>
                        <div>
                            <label class="block mb-2 text-sm font-medium text-left">Adsterra Native Banner</label>
                            <textarea name="rightNative" rows="3" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra code here..."></textarea>
                        </div>
                         <div>
                            <label class="block mb-2 text-sm font-medium text-left">Image Ad URLs (180x320)</label>
                            <input name="rightImg1" type="text" placeholder="Image URL 1" class="form-input w-full p-3 rounded-md mb-2">
                            <input name="rightImg2" type="text" placeholder="Image URL 2" class="form-input w-full p-3 rounded-md mb-2">
                            <input name="rightImg3" type="text" placeholder="Image URL 3" class="form-input w-full p-3 rounded-md">
                        </div>
                        <div>
                            <label class="block mb-2 text-sm font-medium text-left">Adsterra Ad (468x60)</label>
                            <textarea name="right468x60" rows="2" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra code here..."></textarea>
                        </div>
                        <div>
                            <label class="block mb-2 text-sm font-medium text-left">Adsterra Ad (320x50)</label>
                            <textarea name="right320x50" rows="2" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra code here..."></textarea>
                        </div>
                    </div>
                </div>
                 <div class="col-span-1 md:col-span-2 mt-6">
                     <h3 class="text-lg font-semibold border-b border-neutral-600 pb-2">Other Ads</h3>
                     <div>
                        <label class="block mb-2 text-sm font-medium text-left">Adsterra Social Bar</label>
                        <textarea name="adSocialBar" rows="3" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra Social Bar code here..."></textarea>
                    </div>
                     <div>
                        <label class="block mb-2 text-sm font-medium text-left mt-4">Adsterra Popunder</label>
                        <textarea name="adPopunder" rows="3" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra Popunder code here..."></textarea>
                    </div>
                     <div>
                        <label class="block mb-2 text-sm font-medium text-left mt-4">Footer Ad (728x90)</label>
                        <textarea name="adFooter728x90" rows="3" class="form-input w-full p-3 rounded-md" placeholder="Paste Adsterra code here..."></textarea>
                    </div>
                </div>
                <div class="mt-8 text-right">
                    <button type="submit" class="bg-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-700 transition-colors">Save Ad Codes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Password Reset Modal -->
    <div id="password-reset-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-md transform scale-95 transition-transform duration-300">
            <form id="password-reset-form" class="p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Reset Password</h2>
                    <button type="button" id="password-reset-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div id="reset-step-1" class="space-y-4">
                    <p class="text-sm text-gray-400">Enter your Full Name and Username to verify your account.</p>
                    <input name="resetFullName" type="text" placeholder="Your Full Name" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                    <input name="resetUsername" type="text" placeholder="Your Username" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                    <p id="reset-error" class="text-red-400 text-sm mt-2 hidden"></p>
                    <button type="button" id="verify-user-btn" class="w-full bg-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-700 transition-colors">Verify</button>
                </div>
                <div id="reset-step-2" class="hidden space-y-4">
                    <p class="text-sm text-gray-400">Verification successful. Enter your new password.</p>
                    <input name="newPassword" type="password" placeholder="New Password" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                    <input name="confirmNewPassword" type="password" placeholder="Confirm New Password" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                    <p id="reset-password-error" class="text-red-400 text-sm mt-2 hidden"></p>
                    <button type="submit" class="w-full bg-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-700 transition-colors">Reset Password</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Edit Featured Modal -->
    <div id="edit-featured-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-2xl transform scale-95 transition-transform duration-300">
            <div class="p-8 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Edit Featured Content</h2>
                    <button type="button" id="edit-featured-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                
                <div class="mb-4">
                    <input id="featured-search-bar" type="text" placeholder="Search for content to add..." class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500">
                    <div id="featured-search-results" class="mt-2 max-h-48 overflow-y-auto"></div>
                </div>

                <h3 class="text-lg font-semibold mb-3">Current Featured Items</h3>
                <div id="current-featured-list" class="space-y-2">
                    <!-- Current featured items will be listed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Manage Admins Modal -->
    <div id="manage-admins-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-lg transform scale-95 transition-transform duration-300">
            <div class="p-8 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold">Manage Admins</h2>
                    <button type="button" id="manage-admins-modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-3">Current Admins</h3>
                    <div id="admin-list" class="space-y-2">
                        <!-- Admin list will be populated here -->
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-3">Add New Admin</h3>
                    <form id="add-admin-form" class="flex gap-2">
                        <input name="username" type="text" placeholder="Enter username to promote" class="form-input w-full p-3 rounded-md focus:ring-red-500 focus:border-red-500" required>
                        <button type="submit" class="bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">Add</button>
                    </form>
                    <p id="add-admin-error" class="text-red-400 text-sm mt-2 hidden"></p>
                </div>
            </div>
        </div>
    </div>

    <div id="ad-social-bar"></div>

    <script src="database.js"></script>
    <script src="main.js"></script>
</body>
</html>
